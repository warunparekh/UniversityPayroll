@model IEnumerable<UniversityPayroll.Models.LeaveApplication>

<h2>Leave Applications</h2>
<p><a href="/Leave/Create">Apply for Leave</a></p>

<table border="1">
    <tr>
        <th>Type</th>
        <th>Start</th>
        <th>End</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td>@item.LeaveType</td>
            <td>@item.StartDate.ToShortDateString()</td>
            <td>@item.EndDate.ToShortDateString()</td>
            <td>@item.Status</td>
            <td>
                <a href="/Leave/Details/@item.Id">Details</a> 
                @if (User.IsInRole("Admin"))
                {

                    <a href="/Leave/Edit/@item.Id">Edit</a>                        
                    <a href = "/Leave/Delete/@item.Id" onclick = "return confirm('Are you sure you want to delete this leave application?');" > Delete </a>
                    
                }
               
            </td>
        </tr>
    }

</table>
