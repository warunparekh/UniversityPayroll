@model UniversityPayroll.Models.Employee

<form asp-action="@(Model?.Id != null ? "Edit" : "Create")" method="post">
    @if (Model?.Id != null)
    {
        <input asp-for="Id" type="hidden" />
        <input asp-for="IdentityUserId" type="hidden" />
    }
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label asp-for="EmployeeCode" class="form-label">Employee Code</label>
            <input asp-for="EmployeeCode" class="form-control" required />
            <span asp-validation-for="EmployeeCode" class="text-danger"></span>
        </div>
        <div class="col-md-6 mb-3">
            <label asp-for="Name" class="form-label">Full Name</label>
            <input asp-for="Name" class="form-control" required />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label asp-for="Designation" class="form-label">Designation</label>
            <select asp-for="Designation" asp-items="ViewBag.Designations" class="form-select" required>
                <option value="">-- Select Designation --</option>
            </select>
            <span asp-validation-for="Designation" class="text-danger"></span>
        </div>
        <div class="col-md-6 mb-3">
            <label asp-for="TaxSlabId" class="form-label">Tax Slab</label>
            <select asp-for="TaxSlabId" asp-items="ViewBag.TaxSlabs" class="form-select">
                <option value="">-- Select Tax Slab --</option>
            </select>
            <span asp-validation-for="TaxSlabId" class="text-danger"></span>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label asp-for="BaseSalary" class="form-label">Base Salary (â‚¹)</label>
            <input asp-for="BaseSalary" class="form-control" type="number" step="0.01" min="0" />
            <span asp-validation-for="BaseSalary" class="text-danger"></span>
        </div>
        <div class="col-md-6 mb-3">
            <label asp-for="Status" class="form-label">Status</label>
            <select asp-for="Status" class="form-select">
                <option value="Active">Active</option>
                <option value="Inactive">Inactive</option>
            </select>
            <span asp-validation-for="Status" class="text-danger"></span>
        </div>
    </div>
    
    @if (Model?.Id == null)
    {
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="email" class="form-label">Email</label>
                <input name="email" type="email" class="form-control" required />
                <small class="form-text text-muted">This will be used for login</small>
            </div>
            <div class="col-md-6 mb-3">
                <label for="password" class="form-label">Password</label>
                <input name="password" type="password" class="form-control" required />
                <small class="form-text text-muted">Minimum 6 characters</small>
            </div>
        </div>
    }
    
    <button type="submit" class="btn btn-primary">@(Model?.Id != null ? "Update" : "Save")</button>
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
</form>

@section Scripts { @{await Html.RenderPartialAsync("_ValidationScriptsPartial");} }
